From: <Saved by Blink>
Snapshot-Content-Location: https://spring.io/guides/gs/batch-processing/#initial
Subject: 
Date: Thu, 25 Mar 2021 21:53:56 -0000
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--PfKiTYYbzLJpWEOTE3dU98CgG5R4dFPBYqf99fttPa----"


------MultipartBoundary--PfKiTYYbzLJpWEOTE3dU98CgG5R4dFPBYqf99fttPa----
Content-Type: text/html
Content-ID: <frame-D7D1B658C72A23D34DA4482F5FC5E033@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: https://spring.io/guides/gs/batch-processing/#initial

<!DOCTYPE html><html lang=3D"en">
<body id=3D"guide" class=3D" light">


<div>
<div></div>
<div class=3D"container-fluid">
<main class=3D"main-body--wrapper">
<div class=3D"row-fluid">
<div class=3D"span8 mobile-left-pane">


<article class=3D"content--container">
<h1 class=3D"title">Creating a Batch Service</h1>
<div class=3D"article-body"><div class=3D"paragraph">
<p>This guide walks you through the process of creating a basic batch-drive=
n solution.</p>
</div>
<div class=3D"sect1">
<h2 id=3D"_what_you_will_build">What You Will build</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>You will build a service that imports data from a CSV spreadsheet, trans=
forms it with custom code, and stores the final results in a database.</p>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"_what_you_need">What You Need</h2>
<div class=3D"sectionbody">
<div class=3D"ulist">
<ul>
<li> <p>About 15 minutes</p> </li>
<li> <p>A favorite text editor or IDE</p> </li>
<li> <p><a href=3D"http://www.oracle.com/technetwork/java/javase/downloads/=
index.html">JDK 1.8</a> or later</p> </li>
<li> <p><a href=3D"http://www.gradle.org/downloads">Gradle 4+</a> or <a hre=
f=3D"https://maven.apache.org/download.cgi">Maven 3.2+</a></p> </li>
<li> <p>You can also import the code straight into your IDE:</p>
<div class=3D"ulist">
<ul>
<li> <p><a href=3D"https://spring.io/guides/gs/sts">Spring Tool Suite (STS)=
</a></p> </li>
<li> <p><a href=3D"https://spring.io/guides/gs/intellij-idea/">IntelliJ IDE=
A</a></p> </li>
</ul>
</div> </li>
</ul>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"_how_to_complete_this_guide">How to complete this guide</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>Like most Spring <a href=3D"https://spring.io/guides">Getting Started gu=
ides</a>, you can start from scratch and complete each step or you can bypa=
ss basic setup steps that are already familiar to you. Either way, you end =
up with working code.</p>
</div>
<div class=3D"paragraph">
<p>To <strong>start from scratch</strong>, move on to <a href=3D"https://sp=
ring.io/guides/gs/batch-processing/#scratch">Starting with Spring Initializ=
r</a>.</p>
</div>
<div class=3D"paragraph">
<p>To <strong>skip the basics</strong>, do the following:</p>
</div>
<div class=3D"ulist">
<ul>
<li> <p><a href=3D"https://github.com/spring-guides/gs-batch-processing/arc=
hive/master.zip">Download</a> and unzip the source repository for this guid=
e, or clone it using <a href=3D"https://spring.io/understanding/Git">Git</a=
>: <code>git clone <a href=3D"https://github.com/spring-guides/gs-batch-pro=
cessing.git" class=3D"bare">https://github.com/spring-guides/gs-batch-proce=
ssing.git</a></code></p> </li>
<li> <p>cd into <code>gs-batch-processing/initial</code></p> </li>
<li> <p>Jump ahead to <a href=3D"https://spring.io/guides/gs/batch-processi=
ng/#initial">Create a Business Class</a>.</p> </li>
</ul>
</div>
<div class=3D"paragraph">
<p><strong>When you finish</strong>, you can check your results against the=
 code in <code>gs-batch-processing/complete</code>.</p>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"_business_data">Business Data</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>Typically, your customer or a business analyst supplies a spreadsheet. F=
or this simple example, you can find some made-up data in <code>src/main/re=
sources/sample-data.csv</code>:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"csv"><span class=3D"typ">Jill</span><span class=3D"pun">,</span><span=
 class=3D"typ">Doe</span><span class=3D"pln">
</span><span class=3D"typ">Joe</span><span class=3D"pun">,</span><span clas=
s=3D"typ">Doe</span><span class=3D"pln">
</span><span class=3D"typ">Justin</span><span class=3D"pun">,</span><span c=
lass=3D"typ">Doe</span><span class=3D"pln">
</span><span class=3D"typ">Jane</span><span class=3D"pun">,</span><span cla=
ss=3D"typ">Doe</span><span class=3D"pln">
</span><span class=3D"typ">John</span><span class=3D"pun">,</span><span cla=
ss=3D"typ">Doe</span></code><button class=3D"copy-button button button-smal=
l animate" data-clipboard-text=3D"Jill,Doe
Joe,Doe
Justin,Doe
Jane,Doe
John,Doe">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p>This spreadsheet contains a first name and a last name on each row, sepa=
rated by a comma. This is a fairly common pattern that Spring can handle wi=
thout customization.</p>
</div>
<div class=3D"paragraph">
<p>Next, you need to write an SQL script to create a table to store the dat=
a. You can find such a script in <code>src/main/resources/schema-all.sql</c=
ode>:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"sql"><span class=3D"pln">DROP TABLE people IF EXISTS</span><span clas=
s=3D"pun">;</span><span class=3D"pln">

CREATE TABLE people  </span><span class=3D"pun">(</span><span class=3D"pln"=
>
    person_id BIGINT IDENTITY NOT NULL PRIMARY KEY</span><span class=3D"pun=
">,</span><span class=3D"pln">
    first_name VARCHAR</span><span class=3D"pun">(</span><span class=3D"lit=
">20</span><span class=3D"pun">),</span><span class=3D"pln">
    last_name VARCHAR</span><span class=3D"pun">(</span><span class=3D"lit"=
>20</span><span class=3D"pun">)</span><span class=3D"pln">
</span><span class=3D"pun">);</span></code><button class=3D"copy-button but=
ton button-small animate" data-clipboard-text=3D"DROP TABLE people IF EXIST=
S;

CREATE TABLE people  (
    person_id BIGINT IDENTITY NOT NULL PRIMARY KEY,
    first_name VARCHAR(20),
    last_name VARCHAR(20)
);">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"admonitionblock note">
<table>
<tbody>
<tr>
<td class=3D"icon"> <i class=3D"fa icon-note" title=3D"Note"></i> </td>
<td class=3D"content"> Spring Boot runs <code>schema-@@platform@@.sql</code=
> automatically during startup. <code>-all</code> is the default for all pl=
atforms. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"scratch">Starting with Spring Initializr</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>If you use Maven, visit the <a href=3D"https://start.spring.io/#!type=3D=
maven-project&amp;language=3Djava&amp;platformVersion=3D2.4.3.RELEASE&amp;p=
ackaging=3Djar&amp;jvmVersion=3D1.8&amp;groupId=3Dcom.example&amp;artifactI=
d=3Dbatch-processing&amp;name=3Dbatch-processing&amp;description=3DDemo%20p=
roject%20for%20Spring%20Boot&amp;packageName=3Dcom.example.batch-processing=
&amp;dependencies=3Dbatch,hsql">Spring Initializr</a> to generate a new pro=
ject with the required dependencies (Spring Batch and HyperSQL Database).</=
p>
</div>
<div class=3D"paragraph">
<p>The following listing shows the <code>pom.xml</code> file created when y=
ou choose Maven:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre>&lt;?xml version=3D"1.0" encoding=3D"UTF-8"?&gt;
&lt;project xmlns=3D"http://maven.apache.org/POM/4.0.0" xmlns:xsi=3D"http:/=
/www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation=3D"http://maven.apache.org/POM/4.0.0 https://maven.apac=
he.org/xsd/maven-4.0.0.xsd"&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;parent&gt;
		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
		&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
		&lt;version&gt;2.4.3&lt;/version&gt;
		&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;
	&lt;groupId&gt;com.example&lt;/groupId&gt;
	&lt;artifactId&gt;batch-processing&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
	&lt;name&gt;batch-processing&lt;/name&gt;
	&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;
	&lt;properties&gt;
		&lt;java.version&gt;1.8&lt;/java.version&gt;
	&lt;/properties&gt;
	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
			&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;
			&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;
			&lt;scope&gt;runtime&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
			&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
			&lt;scope&gt;test&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;
			&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;
			&lt;scope&gt;test&lt;/scope&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;

	&lt;build&gt;
		&lt;plugins&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
				&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
			&lt;/plugin&gt;
		&lt;/plugins&gt;
	&lt;/build&gt;

&lt;/project&gt;</pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p>If you use Gradle, visit the <a href=3D"https://start.spring.io/#!type=
=3Dgradle-project&amp;language=3Djava&amp;platformVersion=3D2.4.3.RELEASE&a=
mp;packaging=3Djar&amp;jvmVersion=3D1.8&amp;groupId=3Dcom.example&amp;artif=
actId=3Dbatch-processing&amp;name=3Dbatch-processing&amp;description=3DDemo=
%20project%20for%20Spring%20Boot&amp;packageName=3Dcom.example.batch-proces=
sing&amp;dependencies=3Dbatch,hsql">Spring Initializr</a> to generate a new=
 project with the required dependencies (Spring Batch and HyperSQL Database=
).</p>
</div>
<div class=3D"paragraph">
<p>The following listing shows the <code>build.gradle</code> file created w=
hen you choose Gradle:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre>plugins {
	id 'org.springframework.boot' version '2.4.3'
	id 'io.spring.dependency-management' version '1.0.11.RELEASE'
	id 'java'
}

group =3D 'com.example'
version =3D '0.0.1-SNAPSHOT'
sourceCompatibility =3D '1.8'

repositories {
	mavenCentral()
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-batch'
	runtimeOnly 'org.hsqldb:hsqldb'
	testImplementation 'org.springframework.boot:spring-boot-starter-test'
	testImplementation 'org.springframework.batch:spring-batch-test'
}

test {
	useJUnitPlatform()
}</pre>
</div>
</div>
</div>
</div>
<div class=3D"sect2">
<h3 id=3D"_manual_initialization_optional">Manual Initialization (optional)=
</h3>
<div class=3D"paragraph">
<p>If you want to initialize the project manually rather than use the links=
 shown earlier, follow the steps given below:</p>
</div>
<div class=3D"olist arabic">
<ol class=3D"arabic">
<li> <p>Navigate to <a href=3D"https://start.spring.io/" class=3D"bare">htt=
ps://start.spring.io</a>. This service pulls in all the dependencies you ne=
ed for an application and does most of the setup for you.</p> </li>
<li> <p>Choose either Gradle or Maven and the language you want to use. Thi=
s guide assumes that you chose Java.</p> </li>
<li> <p>Click <strong>Dependencies</strong> and select <strong>Spring Batch=
</strong> and <strong>HyperSQL Database</strong>.</p> </li>
<li> <p>Click <strong>Generate</strong>.</p> </li>
<li> <p>Download the resulting ZIP file, which is an archive of a web appli=
cation that is configured with your choices.</p> </li>
</ol>
</div>
<div class=3D"admonitionblock note">
<table>
<tbody>
<tr>
<td class=3D"icon"> <i class=3D"fa icon-note" title=3D"Note"></i> </td>
<td class=3D"content"> If your IDE has the Spring Initializr integration, y=
ou can complete this process from your IDE. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"initial">Create a Business Class</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>Now that you can see the format of data inputs and outputs, you can writ=
e code to represent a row of data, as the following example (from <code>src=
/main/java/com/example/batchprocessing/Person.java</code>) shows:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"java"><span class=3D"kwd">package</span><span class=3D"pln"> com</spa=
n><span class=3D"pun">.</span><span class=3D"pln">example</span><span class=
=3D"pun">.</span><span class=3D"pln">batchprocessing</span><span class=3D"p=
un">;</span><span class=3D"pln">

</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"kwd">class</span><span class=3D"pln"> </span><span class=3D"typ">Pe=
rson</span><span class=3D"pln"> </span><span class=3D"pun">{</span><span cl=
ass=3D"pln">

  </span><span class=3D"kwd">private</span><span class=3D"pln"> </span><spa=
n class=3D"typ">String</span><span class=3D"pln"> lastName</span><span clas=
s=3D"pun">;</span><span class=3D"pln">
  </span><span class=3D"kwd">private</span><span class=3D"pln"> </span><spa=
n class=3D"typ">String</span><span class=3D"pln"> firstName</span><span cla=
ss=3D"pun">;</span><span class=3D"pln">

  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">Person</span><span class=3D"pun">()</span><span class=3D"pln=
"> </span><span class=3D"pun">{</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">

  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">Person</span><span class=3D"pun">(</span><span class=3D"typ"=
>String</span><span class=3D"pln"> firstName</span><span class=3D"pun">,</s=
pan><span class=3D"pln"> </span><span class=3D"typ">String</span><span clas=
s=3D"pln"> lastName</span><span class=3D"pun">)</span><span class=3D"pln"> =
</span><span class=3D"pun">{</span><span class=3D"pln">
    </span><span class=3D"kwd">this</span><span class=3D"pun">.</span><span=
 class=3D"pln">firstName </span><span class=3D"pun">=3D</span><span class=
=3D"pln"> firstName</span><span class=3D"pun">;</span><span class=3D"pln">
    </span><span class=3D"kwd">this</span><span class=3D"pun">.</span><span=
 class=3D"pln">lastName </span><span class=3D"pun">=3D</span><span class=3D=
"pln"> lastName</span><span class=3D"pun">;</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">

  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"kwd">void</span><span class=3D"pln"> setFirstName</span><span cla=
ss=3D"pun">(</span><span class=3D"typ">String</span><span class=3D"pln"> fi=
rstName</span><span class=3D"pun">)</span><span class=3D"pln"> </span><span=
 class=3D"pun">{</span><span class=3D"pln">
    </span><span class=3D"kwd">this</span><span class=3D"pun">.</span><span=
 class=3D"pln">firstName </span><span class=3D"pun">=3D</span><span class=
=3D"pln"> firstName</span><span class=3D"pun">;</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">

  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">String</span><span class=3D"pln"> getFirstName</span><span c=
lass=3D"pun">()</span><span class=3D"pln"> </span><span class=3D"pun">{</sp=
an><span class=3D"pln">
    </span><span class=3D"kwd">return</span><span class=3D"pln"> firstName<=
/span><span class=3D"pun">;</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">

  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">String</span><span class=3D"pln"> getLastName</span><span cl=
ass=3D"pun">()</span><span class=3D"pln"> </span><span class=3D"pun">{</spa=
n><span class=3D"pln">
    </span><span class=3D"kwd">return</span><span class=3D"pln"> lastName</=
span><span class=3D"pun">;</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">

  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"kwd">void</span><span class=3D"pln"> setLastName</span><span clas=
s=3D"pun">(</span><span class=3D"typ">String</span><span class=3D"pln"> las=
tName</span><span class=3D"pun">)</span><span class=3D"pln"> </span><span c=
lass=3D"pun">{</span><span class=3D"pln">
    </span><span class=3D"kwd">this</span><span class=3D"pun">.</span><span=
 class=3D"pln">lastName </span><span class=3D"pun">=3D</span><span class=3D=
"pln"> lastName</span><span class=3D"pun">;</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">

  </span><span class=3D"lit">@Override</span><span class=3D"pln">
  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">String</span><span class=3D"pln"> toString</span><span class=
=3D"pun">()</span><span class=3D"pln"> </span><span class=3D"pun">{</span><=
span class=3D"pln">
    </span><span class=3D"kwd">return</span><span class=3D"pln"> </span><sp=
an class=3D"str">"firstName: "</span><span class=3D"pln"> </span><span clas=
s=3D"pun">+</span><span class=3D"pln"> firstName </span><span class=3D"pun"=
>+</span><span class=3D"pln"> </span><span class=3D"str">", lastName: "</sp=
an><span class=3D"pln"> </span><span class=3D"pun">+</span><span class=3D"p=
ln"> lastName</span><span class=3D"pun">;</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">

</span><span class=3D"pun">}</span></code><button class=3D"copy-button butt=
on button-small animate" data-clipboard-text=3D"package com.example.batchpr=
ocessing;

public class Person {

  private String lastName;
  private String firstName;

  public Person() {
  }

  public Person(String firstName, String lastName) {
    this.firstName =3D firstName;
    this.lastName =3D lastName;
  }

  public void setFirstName(String firstName) {
    this.firstName =3D firstName;
  }

  public String getFirstName() {
    return firstName;
  }

  public String getLastName() {
    return lastName;
  }

  public void setLastName(String lastName) {
    this.lastName =3D lastName;
  }

  @Override
  public String toString() {
    return &quot;firstName: &quot; + firstName + &quot;, lastName: &quot; +=
 lastName;
  }

}">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p>You can instantiate the <code>Person</code> class either with first and =
last name through a constructor or by setting the properties.</p>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"_create_an_intermediate_processor">Create an Intermediate Process=
or</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>A common paradigm in batch processing is to ingest data, transform it, a=
nd then pipe it out somewhere else. Here, you need to write a simple transf=
ormer that converts the names to uppercase. The following listing (from <co=
de>src/main/java/com/example/batchprocessing/PersonItemProcessor.java</code=
>) shows how to do so:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"java"><span class=3D"kwd">package</span><span class=3D"pln"> com</spa=
n><span class=3D"pun">.</span><span class=3D"pln">example</span><span class=
=3D"pun">.</span><span class=3D"pln">batchprocessing</span><span class=3D"p=
un">;</span><span class=3D"pln">

</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">slf4j</span><span class=3D"pun"=
>.</span><span class=3D"typ">Logger</span><span class=3D"pun">;</span><span=
 class=3D"pln">
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">slf4j</span><span class=3D"pun"=
>.</span><span class=3D"typ">LoggerFactory</span><span class=3D"pun">;</spa=
n><span class=3D"pln">

</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">batch</span><span class=3D"pun">.</s=
pan><span class=3D"pln">item</span><span class=3D"pun">.</span><span class=
=3D"typ">ItemProcessor</span><span class=3D"pun">;</span><span class=3D"pln=
">

</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"kwd">class</span><span class=3D"pln"> </span><span class=3D"typ">Pe=
rsonItemProcessor</span><span class=3D"pln"> </span><span class=3D"kwd">imp=
lements</span><span class=3D"pln"> </span><span class=3D"typ">ItemProcessor=
</span><span class=3D"pun">&lt;</span><span class=3D"typ">Person</span><spa=
n class=3D"pun">,</span><span class=3D"pln"> </span><span class=3D"typ">Per=
son</span><span class=3D"pun">&gt;</span><span class=3D"pln"> </span><span =
class=3D"pun">{</span><span class=3D"pln">

  </span><span class=3D"kwd">private</span><span class=3D"pln"> </span><spa=
n class=3D"kwd">static</span><span class=3D"pln"> </span><span class=3D"kwd=
">final</span><span class=3D"pln"> </span><span class=3D"typ">Logger</span>=
<span class=3D"pln"> log </span><span class=3D"pun">=3D</span><span class=
=3D"pln"> </span><span class=3D"typ">LoggerFactory</span><span class=3D"pun=
">.</span><span class=3D"pln">getLogger</span><span class=3D"pun">(</span><=
span class=3D"typ">PersonItemProcessor</span><span class=3D"pun">.</span><s=
pan class=3D"kwd">class</span><span class=3D"pun">);</span><span class=3D"p=
ln">

  </span><span class=3D"lit">@Override</span><span class=3D"pln">
  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">Person</span><span class=3D"pln"> process</span><span class=
=3D"pun">(</span><span class=3D"kwd">final</span><span class=3D"pln"> </spa=
n><span class=3D"typ">Person</span><span class=3D"pln"> person</span><span =
class=3D"pun">)</span><span class=3D"pln"> </span><span class=3D"kwd">throw=
s</span><span class=3D"pln"> </span><span class=3D"typ">Exception</span><sp=
an class=3D"pln"> </span><span class=3D"pun">{</span><span class=3D"pln">
    </span><span class=3D"kwd">final</span><span class=3D"pln"> </span><spa=
n class=3D"typ">String</span><span class=3D"pln"> firstName </span><span cl=
ass=3D"pun">=3D</span><span class=3D"pln"> person</span><span class=3D"pun"=
>.</span><span class=3D"pln">getFirstName</span><span class=3D"pun">().</sp=
an><span class=3D"pln">toUpperCase</span><span class=3D"pun">();</span><spa=
n class=3D"pln">
    </span><span class=3D"kwd">final</span><span class=3D"pln"> </span><spa=
n class=3D"typ">String</span><span class=3D"pln"> lastName </span><span cla=
ss=3D"pun">=3D</span><span class=3D"pln"> person</span><span class=3D"pun">=
.</span><span class=3D"pln">getLastName</span><span class=3D"pun">().</span=
><span class=3D"pln">toUpperCase</span><span class=3D"pun">();</span><span =
class=3D"pln">

    </span><span class=3D"kwd">final</span><span class=3D"pln"> </span><spa=
n class=3D"typ">Person</span><span class=3D"pln"> transformedPerson </span>=
<span class=3D"pun">=3D</span><span class=3D"pln"> </span><span class=3D"kw=
d">new</span><span class=3D"pln"> </span><span class=3D"typ">Person</span><=
span class=3D"pun">(</span><span class=3D"pln">firstName</span><span class=
=3D"pun">,</span><span class=3D"pln"> lastName</span><span class=3D"pun">);=
</span><span class=3D"pln">

    log</span><span class=3D"pun">.</span><span class=3D"pln">info</span><s=
pan class=3D"pun">(</span><span class=3D"str">"Converting ("</span><span cl=
ass=3D"pln"> </span><span class=3D"pun">+</span><span class=3D"pln"> person=
 </span><span class=3D"pun">+</span><span class=3D"pln"> </span><span class=
=3D"str">") into ("</span><span class=3D"pln"> </span><span class=3D"pun">+=
</span><span class=3D"pln"> transformedPerson </span><span class=3D"pun">+<=
/span><span class=3D"pln"> </span><span class=3D"str">")"</span><span class=
=3D"pun">);</span><span class=3D"pln">

    </span><span class=3D"kwd">return</span><span class=3D"pln"> transforme=
dPerson</span><span class=3D"pun">;</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">

</span><span class=3D"pun">}</span></code><button class=3D"copy-button butt=
on button-small animate" data-clipboard-text=3D"package com.example.batchpr=
ocessing;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import org.springframework.batch.item.ItemProcessor;

public class PersonItemProcessor implements ItemProcessor<Person, Person> {

  private static final Logger log =3D LoggerFactory.getLogger(PersonItemPro=
cessor.class);

  @Override
  public Person process(final Person person) throws Exception {
    final String firstName =3D person.getFirstName().toUpperCase();
    final String lastName =3D person.getLastName().toUpperCase();

    final Person transformedPerson =3D new Person(firstName, lastName);

    log.info(&quot;Converting (&quot; + person + &quot;) into (&quot; + tra=
nsformedPerson + &quot;)&quot;);

    return transformedPerson;
  }

}">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p><code>PersonItemProcessor</code> implements Spring Batch=E2=80=99s <code=
>ItemProcessor</code> interface. This makes it easy to wire the code into a=
 batch job that you will define later in this guide. According to the inter=
face, you receive an incoming <code>Person</code> object, after which you t=
ransform it to an upper-cased <code>Person</code>.</p>
</div>
<div class=3D"admonitionblock note">
<table>
<tbody>
<tr>
<td class=3D"icon"> <i class=3D"fa icon-note" title=3D"Note"></i> </td>
<td class=3D"content"> The input and output types need not be the same. In =
fact, after one source of data is read, sometimes the application=E2=80=99s=
 data flow needs a different data type. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"_put_together_a_batch_job">Put Together a Batch Job</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>Now you need to put together the actual batch job. Spring Batch provides=
 many utility classes that reduce the need to write custom code. Instead, y=
ou can focus on the business logic.</p>
</div>
<div class=3D"paragraph">
<p>To configure your job, you must first create a Spring <code>@Configurati=
on</code> class like the following example in <code>src/main/java/com/examp=
e/batchprocessing/BatchConfiguration.java</code>:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"java"><span class=3D"lit">@Configuration</span><span class=3D"pln">
</span><span class=3D"lit">@EnableBatchProcessing</span><span class=3D"pln"=
>
</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"kwd">class</span><span class=3D"pln"> </span><span class=3D"typ">Ba=
tchConfiguration</span><span class=3D"pln"> </span><span class=3D"pun">{</s=
pan><span class=3D"pln">

  </span><span class=3D"lit">@Autowired</span><span class=3D"pln">
  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">JobBuilderFactory</span><span class=3D"pln"> jobBuilderFacto=
ry</span><span class=3D"pun">;</span><span class=3D"pln">

  </span><span class=3D"lit">@Autowired</span><span class=3D"pln">
  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">StepBuilderFactory</span><span class=3D"pln"> stepBuilderFac=
tory</span><span class=3D"pun">;</span><span class=3D"pln">

    </span><span class=3D"pun">...</span><span class=3D"pln">

</span><span class=3D"pun">}</span></code><button class=3D"copy-button butt=
on button-small animate" data-clipboard-text=3D"@Configuration
@EnableBatchProcessing
public class BatchConfiguration {

  @Autowired
  public JobBuilderFactory jobBuilderFactory;

  @Autowired
  public StepBuilderFactory stepBuilderFactory;

    ...

}">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p>For starters, the <code>@EnableBatchProcessing</code> annotation adds ma=
ny critical beans that support jobs and save you a lot of leg work. This ex=
ample uses a memory-based database (provided by <code>@EnableBatchProcessin=
g</code>), meaning that, when it is done, the data is gone. It also autowir=
es a couple factories needed further below. Now add the following beans to =
your <code>BatchConfiguration</code> class to define a reader, a processor,=
 and a writer:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"java"><span class=3D"lit">@Bean</span><span class=3D"pln">
</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"typ">FlatFileItemReader</span><span class=3D"pun">&lt;</span><span =
class=3D"typ">Person</span><span class=3D"pun">&gt;</span><span class=3D"pl=
n"> reader</span><span class=3D"pun">()</span><span class=3D"pln"> </span><=
span class=3D"pun">{</span><span class=3D"pln">
  </span><span class=3D"kwd">return</span><span class=3D"pln"> </span><span=
 class=3D"kwd">new</span><span class=3D"pln"> </span><span class=3D"typ">Fl=
atFileItemReaderBuilder</span><span class=3D"pun">&lt;</span><span class=3D=
"typ">Person</span><span class=3D"pun">&gt;()</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">name</span><span=
 class=3D"pun">(</span><span class=3D"str">"personItemReader"</span><span c=
lass=3D"pun">)</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">resource</span><=
span class=3D"pun">(</span><span class=3D"kwd">new</span><span class=3D"pln=
"> </span><span class=3D"typ">ClassPathResource</span><span class=3D"pun">(=
</span><span class=3D"str">"sample-data.csv"</span><span class=3D"pun">))</=
span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">delimited</span>=
<span class=3D"pun">()</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">names</span><spa=
n class=3D"pun">(</span><span class=3D"kwd">new</span><span class=3D"pln"> =
</span><span class=3D"typ">String</span><span class=3D"pun">[]{</span><span=
 class=3D"str">"firstName"</span><span class=3D"pun">,</span><span class=3D=
"pln"> </span><span class=3D"str">"lastName"</span><span class=3D"pun">})</=
span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">fieldSetMapper</=
span><span class=3D"pun">(</span><span class=3D"kwd">new</span><span class=
=3D"pln"> </span><span class=3D"typ">BeanWrapperFieldSetMapper</span><span =
class=3D"pun">&lt;</span><span class=3D"typ">Person</span><span class=3D"pu=
n">&gt;()</span><span class=3D"pln"> </span><span class=3D"pun">{{</span><s=
pan class=3D"pln">
      setTargetType</span><span class=3D"pun">(</span><span class=3D"typ">P=
erson</span><span class=3D"pun">.</span><span class=3D"kwd">class</span><sp=
an class=3D"pun">);</span><span class=3D"pln">
    </span><span class=3D"pun">}})</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">build</span><spa=
n class=3D"pun">();</span><span class=3D"pln">
</span><span class=3D"pun">}</span><span class=3D"pln">

</span><span class=3D"lit">@Bean</span><span class=3D"pln">
</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"typ">PersonItemProcessor</span><span class=3D"pln"> processor</span=
><span class=3D"pun">()</span><span class=3D"pln"> </span><span class=3D"pu=
n">{</span><span class=3D"pln">
  </span><span class=3D"kwd">return</span><span class=3D"pln"> </span><span=
 class=3D"kwd">new</span><span class=3D"pln"> </span><span class=3D"typ">Pe=
rsonItemProcessor</span><span class=3D"pun">();</span><span class=3D"pln">
</span><span class=3D"pun">}</span><span class=3D"pln">

</span><span class=3D"lit">@Bean</span><span class=3D"pln">
</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"typ">JdbcBatchItemWriter</span><span class=3D"pun">&lt;</span><span=
 class=3D"typ">Person</span><span class=3D"pun">&gt;</span><span class=3D"p=
ln"> writer</span><span class=3D"pun">(</span><span class=3D"typ">DataSourc=
e</span><span class=3D"pln"> dataSource</span><span class=3D"pun">)</span><=
span class=3D"pln"> </span><span class=3D"pun">{</span><span class=3D"pln">
  </span><span class=3D"kwd">return</span><span class=3D"pln"> </span><span=
 class=3D"kwd">new</span><span class=3D"pln"> </span><span class=3D"typ">Jd=
bcBatchItemWriterBuilder</span><span class=3D"pun">&lt;</span><span class=
=3D"typ">Person</span><span class=3D"pun">&gt;()</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">itemSqlParameter=
SourceProvider</span><span class=3D"pun">(</span><span class=3D"kwd">new</s=
pan><span class=3D"pln"> </span><span class=3D"typ">BeanPropertyItemSqlPara=
meterSourceProvider</span><span class=3D"pun">&lt;&gt;())</span><span class=
=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">sql</span><span =
class=3D"pun">(</span><span class=3D"str">"INSERT INTO people (first_name, =
last_name) VALUES (:firstName, :lastName)"</span><span class=3D"pun">)</spa=
n><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">dataSource</span=
><span class=3D"pun">(</span><span class=3D"pln">dataSource</span><span cla=
ss=3D"pun">)</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">build</span><spa=
n class=3D"pun">();</span><span class=3D"pln">
</span><span class=3D"pun">}</span></code><button class=3D"copy-button butt=
on button-small animate" data-clipboard-text=3D"@Bean
public FlatFileItemReader<Person> reader() {
  return new FlatFileItemReaderBuilder<Person>()
    .name(&quot;personItemReader&quot;)
    .resource(new ClassPathResource(&quot;sample-data.csv&quot;))
    .delimited()
    .names(new String[]{&quot;firstName&quot;, &quot;lastName&quot;})
    .fieldSetMapper(new BeanWrapperFieldSetMapper<Person>() {{
      setTargetType(Person.class);
    }})
    .build();
}

@Bean
public PersonItemProcessor processor() {
  return new PersonItemProcessor();
}

@Bean
public JdbcBatchItemWriter<Person> writer(DataSource dataSource) {
  return new JdbcBatchItemWriterBuilder<Person>()
    .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceP=
rovider<>())
    .sql(&quot;INSERT INTO people (first_name, last_name) VALUES (:firstNam=
e, :lastName)&quot;)
    .dataSource(dataSource)
    .build();
}">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p>The first chunk of code defines the input, processor, and output.</p>
</div>
<div class=3D"ulist">
<ul>
<li> <p><code>reader()</code> creates an <code>ItemReader</code>. It looks =
for a file called <code>sample-data.csv</code> and parses each line item wi=
th enough information to turn it into a <code>Person</code>.</p> </li>
<li> <p><code>processor()</code> creates an instance of the <code>PersonIte=
mProcessor</code> that you defined earlier, meant to convert the data to up=
per case.</p> </li>
<li> <p><code>writer(DataSource)</code> creates an <code>ItemWriter</code>.=
 This one is aimed at a JDBC destination and automatically gets a copy of t=
he dataSource created by <code>@EnableBatchProcessing</code>. It includes t=
he SQL statement needed to insert a single <code>Person</code>, driven by J=
ava bean properties.</p> </li>
</ul>
</div>
<div class=3D"paragraph">
<p>The last chunk (from <code>src/main/java/com/example/batchprocessing/Bat=
chConfiguration.java</code>) shows the actual job configuration:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"java"><span class=3D"lit">@Bean</span><span class=3D"pln">
</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"typ">Job</span><span class=3D"pln"> importUserJob</span><span class=
=3D"pun">(</span><span class=3D"typ">JobCompletionNotificationListener</spa=
n><span class=3D"pln"> listener</span><span class=3D"pun">,</span><span cla=
ss=3D"pln"> </span><span class=3D"typ">Step</span><span class=3D"pln"> step=
1</span><span class=3D"pun">)</span><span class=3D"pln"> </span><span class=
=3D"pun">{</span><span class=3D"pln">
  </span><span class=3D"kwd">return</span><span class=3D"pln"> jobBuilderFa=
ctory</span><span class=3D"pun">.</span><span class=3D"kwd">get</span><span=
 class=3D"pun">(</span><span class=3D"str">"importUserJob"</span><span clas=
s=3D"pun">)</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">incrementer</spa=
n><span class=3D"pun">(</span><span class=3D"kwd">new</span><span class=3D"=
pln"> </span><span class=3D"typ">RunIdIncrementer</span><span class=3D"pun"=
>())</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">listener</span><=
span class=3D"pun">(</span><span class=3D"pln">listener</span><span class=
=3D"pun">)</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">flow</span><span=
 class=3D"pun">(</span><span class=3D"pln">step1</span><span class=3D"pun">=
)</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"kwd">end</span><span =
class=3D"pun">()</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">build</span><spa=
n class=3D"pun">();</span><span class=3D"pln">
</span><span class=3D"pun">}</span><span class=3D"pln">

</span><span class=3D"lit">@Bean</span><span class=3D"pln">
</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"typ">Step</span><span class=3D"pln"> step1</span><span class=3D"pun=
">(</span><span class=3D"typ">JdbcBatchItemWriter</span><span class=3D"pun"=
>&lt;</span><span class=3D"typ">Person</span><span class=3D"pun">&gt;</span=
><span class=3D"pln"> writer</span><span class=3D"pun">)</span><span class=
=3D"pln"> </span><span class=3D"pun">{</span><span class=3D"pln">
  </span><span class=3D"kwd">return</span><span class=3D"pln"> stepBuilderF=
actory</span><span class=3D"pun">.</span><span class=3D"kwd">get</span><spa=
n class=3D"pun">(</span><span class=3D"str">"step1"</span><span class=3D"pu=
n">)</span><span class=3D"pln">
    </span><span class=3D"pun">.&lt;</span><span class=3D"typ">Person</span=
><span class=3D"pun">,</span><span class=3D"pln"> </span><span class=3D"typ=
">Person</span><span class=3D"pun">&gt;</span><span class=3D"pln"> chunk</s=
pan><span class=3D"pun">(</span><span class=3D"lit">10</span><span class=3D=
"pun">)</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">reader</span><sp=
an class=3D"pun">(</span><span class=3D"pln">reader</span><span class=3D"pu=
n">())</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">processor</span>=
<span class=3D"pun">(</span><span class=3D"pln">processor</span><span class=
=3D"pun">())</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">writer</span><sp=
an class=3D"pun">(</span><span class=3D"pln">writer</span><span class=3D"pu=
n">)</span><span class=3D"pln">
    </span><span class=3D"pun">.</span><span class=3D"pln">build</span><spa=
n class=3D"pun">();</span><span class=3D"pln">
</span><span class=3D"pun">}</span></code><button class=3D"copy-button butt=
on button-small animate" data-clipboard-text=3D"@Bean
public Job importUserJob(JobCompletionNotificationListener listener, Step s=
tep1) {
  return jobBuilderFactory.get(&quot;importUserJob&quot;)
    .incrementer(new RunIdIncrementer())
    .listener(listener)
    .flow(step1)
    .end()
    .build();
}

@Bean
public Step step1(JdbcBatchItemWriter<Person> writer) {
  return stepBuilderFactory.get(&quot;step1&quot;)
    .<Person, Person> chunk(10)
    .reader(reader())
    .processor(processor())
    .writer(writer)
    .build();
}">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p>The first method defines the job, and the second one defines a single st=
ep. Jobs are built from steps, where each step can involve a reader, a proc=
essor, and a writer.</p>
</div>
<div class=3D"paragraph">
<p>In this job definition, you need an incrementer, because jobs use a data=
base to maintain execution state. You then list each step, (though this job=
 has only one step). The job ends, and the Java API produces a perfectly co=
nfigured job.</p>
</div>
<div class=3D"paragraph">
<p>In the step definition, you define how much data to write at a time. In =
this case, it writes up to ten records at a time. Next, you configure the r=
eader, processor, and writer by using the beans injected earlier.</p>
</div>
<div class=3D"admonitionblock note">
<table>
<tbody>
<tr>
<td class=3D"icon"> <i class=3D"fa icon-note" title=3D"Note"></i> </td>
<td class=3D"content"> <code>chunk()</code> is prefixed <code>&lt;Person,Pe=
rson&gt;</code> because it is a generic method. This represents the input a=
nd output types of each =E2=80=9Cchunk=E2=80=9D of processing and lines up =
with <code>ItemReader&lt;Person&gt;</code> and <code>ItemWriter&lt;Person&g=
t;</code>. </td>
</tr>
</tbody>
</table>
</div>
<div class=3D"paragraph">
<p>The last bit of batch configuration is a way to get notified when the jo=
b completes. The following example (from <code>src/main/java/com/example/ba=
tchprocessing/JobCompletionNotificationListener.java</code>) shows such a c=
lass:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"java"><span class=3D"kwd">package</span><span class=3D"pln"> com</spa=
n><span class=3D"pun">.</span><span class=3D"pln">example</span><span class=
=3D"pun">.</span><span class=3D"pln">batchprocessing</span><span class=3D"p=
un">;</span><span class=3D"pln">

</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">slf4j</span><span class=3D"pun"=
>.</span><span class=3D"typ">Logger</span><span class=3D"pun">;</span><span=
 class=3D"pln">
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">slf4j</span><span class=3D"pun"=
>.</span><span class=3D"typ">LoggerFactory</span><span class=3D"pun">;</spa=
n><span class=3D"pln">
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">batch</span><span class=3D"pun">.</s=
pan><span class=3D"pln">core</span><span class=3D"pun">.</span><span class=
=3D"typ">BatchStatus</span><span class=3D"pun">;</span><span class=3D"pln">
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">batch</span><span class=3D"pun">.</s=
pan><span class=3D"pln">core</span><span class=3D"pun">.</span><span class=
=3D"typ">JobExecution</span><span class=3D"pun">;</span><span class=3D"pln"=
>
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">batch</span><span class=3D"pun">.</s=
pan><span class=3D"pln">core</span><span class=3D"pun">.</span><span class=
=3D"pln">listener</span><span class=3D"pun">.</span><span class=3D"typ">Job=
ExecutionListenerSupport</span><span class=3D"pun">;</span><span class=3D"p=
ln">
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">beans</span><span class=3D"pun">.</s=
pan><span class=3D"pln">factory</span><span class=3D"pun">.</span><span cla=
ss=3D"pln">annotation</span><span class=3D"pun">.</span><span class=3D"typ"=
>Autowired</span><span class=3D"pun">;</span><span class=3D"pln">
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">jdbc</span><span class=3D"pun">.</sp=
an><span class=3D"pln">core</span><span class=3D"pun">.</span><span class=
=3D"typ">JdbcTemplate</span><span class=3D"pun">;</span><span class=3D"pln"=
>
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">stereotype</span><span class=3D"pun"=
>.</span><span class=3D"typ">Component</span><span class=3D"pun">;</span><s=
pan class=3D"pln">

</span><span class=3D"lit">@Component</span><span class=3D"pln">
</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"kwd">class</span><span class=3D"pln"> </span><span class=3D"typ">Jo=
bCompletionNotificationListener</span><span class=3D"pln"> </span><span cla=
ss=3D"kwd">extends</span><span class=3D"pln"> </span><span class=3D"typ">Jo=
bExecutionListenerSupport</span><span class=3D"pln"> </span><span class=3D"=
pun">{</span><span class=3D"pln">

  </span><span class=3D"kwd">private</span><span class=3D"pln"> </span><spa=
n class=3D"kwd">static</span><span class=3D"pln"> </span><span class=3D"kwd=
">final</span><span class=3D"pln"> </span><span class=3D"typ">Logger</span>=
<span class=3D"pln"> log </span><span class=3D"pun">=3D</span><span class=
=3D"pln"> </span><span class=3D"typ">LoggerFactory</span><span class=3D"pun=
">.</span><span class=3D"pln">getLogger</span><span class=3D"pun">(</span><=
span class=3D"typ">JobCompletionNotificationListener</span><span class=3D"p=
un">.</span><span class=3D"kwd">class</span><span class=3D"pun">);</span><s=
pan class=3D"pln">

  </span><span class=3D"kwd">private</span><span class=3D"pln"> </span><spa=
n class=3D"kwd">final</span><span class=3D"pln"> </span><span class=3D"typ"=
>JdbcTemplate</span><span class=3D"pln"> jdbcTemplate</span><span class=3D"=
pun">;</span><span class=3D"pln">

  </span><span class=3D"lit">@Autowired</span><span class=3D"pln">
  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"typ">JobCompletionNotificationListener</span><span class=3D"pun">=
(</span><span class=3D"typ">JdbcTemplate</span><span class=3D"pln"> jdbcTem=
plate</span><span class=3D"pun">)</span><span class=3D"pln"> </span><span c=
lass=3D"pun">{</span><span class=3D"pln">
    </span><span class=3D"kwd">this</span><span class=3D"pun">.</span><span=
 class=3D"pln">jdbcTemplate </span><span class=3D"pun">=3D</span><span clas=
s=3D"pln"> jdbcTemplate</span><span class=3D"pun">;</span><span class=3D"pl=
n">
  </span><span class=3D"pun">}</span><span class=3D"pln">

  </span><span class=3D"lit">@Override</span><span class=3D"pln">
  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"kwd">void</span><span class=3D"pln"> afterJob</span><span class=
=3D"pun">(</span><span class=3D"typ">JobExecution</span><span class=3D"pln"=
> jobExecution</span><span class=3D"pun">)</span><span class=3D"pln"> </spa=
n><span class=3D"pun">{</span><span class=3D"pln">
    </span><span class=3D"kwd">if</span><span class=3D"pun">(</span><span c=
lass=3D"pln">jobExecution</span><span class=3D"pun">.</span><span class=3D"=
pln">getStatus</span><span class=3D"pun">()</span><span class=3D"pln"> </sp=
an><span class=3D"pun">=3D=3D</span><span class=3D"pln"> </span><span class=
=3D"typ">BatchStatus</span><span class=3D"pun">.</span><span class=3D"pln">=
COMPLETED</span><span class=3D"pun">)</span><span class=3D"pln"> </span><sp=
an class=3D"pun">{</span><span class=3D"pln">
      log</span><span class=3D"pun">.</span><span class=3D"pln">info</span>=
<span class=3D"pun">(</span><span class=3D"str">"!!! JOB FINISHED! Time to =
verify the results"</span><span class=3D"pun">);</span><span class=3D"pln">

      jdbcTemplate</span><span class=3D"pun">.</span><span class=3D"pln">qu=
ery</span><span class=3D"pun">(</span><span class=3D"str">"SELECT first_nam=
e, last_name FROM people"</span><span class=3D"pun">,</span><span class=3D"=
pln">
        </span><span class=3D"pun">(</span><span class=3D"pln">rs</span><sp=
an class=3D"pun">,</span><span class=3D"pln"> row</span><span class=3D"pun"=
>)</span><span class=3D"pln"> </span><span class=3D"pun">-&gt;</span><span =
class=3D"pln"> </span><span class=3D"kwd">new</span><span class=3D"pln"> </=
span><span class=3D"typ">Person</span><span class=3D"pun">(</span><span cla=
ss=3D"pln">
          rs</span><span class=3D"pun">.</span><span class=3D"pln">getStrin=
g</span><span class=3D"pun">(</span><span class=3D"lit">1</span><span class=
=3D"pun">),</span><span class=3D"pln">
          rs</span><span class=3D"pun">.</span><span class=3D"pln">getStrin=
g</span><span class=3D"pun">(</span><span class=3D"lit">2</span><span class=
=3D"pun">))</span><span class=3D"pln">
      </span><span class=3D"pun">).</span><span class=3D"pln">forEach</span=
><span class=3D"pun">(</span><span class=3D"pln">person </span><span class=
=3D"pun">-&gt;</span><span class=3D"pln"> log</span><span class=3D"pun">.</=
span><span class=3D"pln">info</span><span class=3D"pun">(</span><span class=
=3D"str">"Found &lt;"</span><span class=3D"pln"> </span><span class=3D"pun"=
>+</span><span class=3D"pln"> person </span><span class=3D"pun">+</span><sp=
an class=3D"pln"> </span><span class=3D"str">"&gt; in the database."</span>=
<span class=3D"pun">));</span><span class=3D"pln">
    </span><span class=3D"pun">}</span><span class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">
</span><span class=3D"pun">}</span></code><button class=3D"copy-button butt=
on button-small animate" data-clipboard-text=3D"package com.example.batchpr=
ocessing;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.batch.core.BatchStatus;
import org.springframework.batch.core.JobExecution;
import org.springframework.batch.core.listener.JobExecutionListenerSupport;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.stereotype.Component;

@Component
public class JobCompletionNotificationListener extends JobExecutionListener=
Support {

  private static final Logger log =3D LoggerFactory.getLogger(JobCompletion=
NotificationListener.class);

  private final JdbcTemplate jdbcTemplate;

  @Autowired
  public JobCompletionNotificationListener(JdbcTemplate jdbcTemplate) {
    this.jdbcTemplate =3D jdbcTemplate;
  }

  @Override
  public void afterJob(JobExecution jobExecution) {
    if(jobExecution.getStatus() =3D=3D BatchStatus.COMPLETED) {
      log.info(&quot;!!! JOB FINISHED! Time to verify the results&quot;);

      jdbcTemplate.query(&quot;SELECT first_name, last_name FROM people&quo=
t;,
        (rs, row) -> new Person(
          rs.getString(1),
          rs.getString(2))
      ).forEach(person -> log.info(&quot;Found <&quot; + person + &quot;> i=
n the database.&quot;));
    }
  }
}">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p>The <code>JobCompletionNotificationListener</code> listens for when a jo=
b is <code>BatchStatus.COMPLETED</code> and then uses <code>JdbcTemplate</c=
ode> to inspect the results.</p>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"_make_the_application_executable">Make the Application Executable=
</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>Although batch processing can be embedded in web apps and WAR files, the=
 simpler approach demonstrated below creates a standalone application. You =
package everything in a single, executable JAR file, driven by a good old J=
ava <code>main()</code> method.</p>
</div>
<div class=3D"paragraph">
<p>The Spring Initializr created an application class for you. For this sim=
ple example, it works without further modification. The following listing (=
from <code>src/main/java/com/example/batchprocessing/BatchProcessingApplica=
tion.java</code>) shows the application class:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"java"><span class=3D"kwd">package</span><span class=3D"pln"> com</spa=
n><span class=3D"pun">.</span><span class=3D"pln">example</span><span class=
=3D"pun">.</span><span class=3D"pln">batchprocessing</span><span class=3D"p=
un">;</span><span class=3D"pln">

</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">boot</span><span class=3D"pun">.</sp=
an><span class=3D"typ">SpringApplication</span><span class=3D"pun">;</span>=
<span class=3D"pln">
</span><span class=3D"kwd">import</span><span class=3D"pln"> org</span><spa=
n class=3D"pun">.</span><span class=3D"pln">springframework</span><span cla=
ss=3D"pun">.</span><span class=3D"pln">boot</span><span class=3D"pun">.</sp=
an><span class=3D"pln">autoconfigure</span><span class=3D"pun">.</span><spa=
n class=3D"typ">SpringBootApplication</span><span class=3D"pun">;</span><sp=
an class=3D"pln">

</span><span class=3D"lit">@SpringBootApplication</span><span class=3D"pln"=
>
</span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span c=
lass=3D"kwd">class</span><span class=3D"pln"> </span><span class=3D"typ">Ba=
tchProcessingApplication</span><span class=3D"pln"> </span><span class=3D"p=
un">{</span><span class=3D"pln">

  </span><span class=3D"kwd">public</span><span class=3D"pln"> </span><span=
 class=3D"kwd">static</span><span class=3D"pln"> </span><span class=3D"kwd"=
>void</span><span class=3D"pln"> main</span><span class=3D"pun">(</span><sp=
an class=3D"typ">String</span><span class=3D"pun">[]</span><span class=3D"p=
ln"> args</span><span class=3D"pun">)</span><span class=3D"pln"> </span><sp=
an class=3D"kwd">throws</span><span class=3D"pln"> </span><span class=3D"ty=
p">Exception</span><span class=3D"pln"> </span><span class=3D"pun">{</span>=
<span class=3D"pln">
    </span><span class=3D"typ">System</span><span class=3D"pun">.</span><sp=
an class=3D"kwd">exit</span><span class=3D"pun">(</span><span class=3D"typ"=
>SpringApplication</span><span class=3D"pun">.</span><span class=3D"kwd">ex=
it</span><span class=3D"pun">(</span><span class=3D"typ">SpringApplication<=
/span><span class=3D"pun">.</span><span class=3D"pln">run</span><span class=
=3D"pun">(</span><span class=3D"typ">BatchProcessingApplication</span><span=
 class=3D"pun">.</span><span class=3D"kwd">class</span><span class=3D"pun">=
,</span><span class=3D"pln"> args</span><span class=3D"pun">)));</span><spa=
n class=3D"pln">
  </span><span class=3D"pun">}</span><span class=3D"pln">
</span><span class=3D"pun">}</span></code><button class=3D"copy-button butt=
on button-small animate" data-clipboard-text=3D"package com.example.batchpr=
ocessing;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class BatchProcessingApplication {

  public static void main(String[] args) throws Exception {
    System.exit(SpringApplication.exit(SpringApplication.run(BatchProcessin=
gApplication.class, args)));
  }
}">Copy</button></pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p><code>@SpringBootApplication</code> is a convenience annotation that add=
s all of the following:</p>
</div>
<div class=3D"ulist">
<ul>
<li> <p><code>@Configuration</code>: Tags the class as a source of bean def=
initions for the application context.</p> </li>
<li> <p><code>@EnableAutoConfiguration</code>: Tells Spring Boot to start a=
dding beans based on classpath settings, other beans, and various property =
settings. For example, if <code>spring-webmvc</code> is on the classpath, t=
his annotation flags the application as a web application and activates key=
 behaviors, such as setting up a <code>DispatcherServlet</code>.</p> </li>
<li> <p><code>@ComponentScan</code>: Tells Spring to look for other compone=
nts, configurations, and services in the <code>com/example</code> package, =
letting it find the controllers.</p> </li>
</ul>
</div>
<div class=3D"paragraph">
<p>The <code>main()</code> method uses Spring Boot=E2=80=99s <code>SpringAp=
plication.run()</code> method to launch an application. Did you notice that=
 there was not a single line of XML? There is no <code>web.xml</code> file,=
 either. This web application is 100% pure Java and you did not have to dea=
l with configuring any plumbing or infrastructure.</p>
</div>
<div class=3D"paragraph">
<p>Note that <code>SpringApplication.exit()</code> and <code>System.exit()<=
/code> ensure that the JVM exits upon job completion. See the <a href=3D"ht=
tps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-fe=
atures-application-exit">Application Exit section in Spring Boot Reference =
documentation</a> for more details.</p>
</div>
<div class=3D"paragraph">
<p>For demonstration purposes, there is code to create a <code>JdbcTemplate=
</code>, query the database, and print out the names of people the batch jo=
b inserts.</p>
</div>
<div class=3D"sect2">
<h3 id=3D"_build_an_executable_jar">Build an executable JAR</h3>
<div class=3D"paragraph">
<p>You can run the application from the command line with Gradle or Maven. =
You can also build a single executable JAR file that contains all the neces=
sary dependencies, classes, and resources and run that. Building an executa=
ble jar makes it easy to ship, version, and deploy the service as an applic=
ation throughout the development lifecycle, across different environments, =
and so forth.</p>
</div>
<div class=3D"paragraph">
<p>If you use Gradle, you can run the application by using <code>./gradlew =
bootRun</code>. Alternatively, you can build the JAR file by using <code>./=
gradlew build</code> and then run the JAR file, as follows:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock has-copy-button">
<div class=3D"content">
<pre>java -jar build/libs/gs-batch-processing-0.1.0.jar</pre>
</div>
</div>
</div>
</div>
<div class=3D"paragraph">
<p>If you use Maven, you can run the application by using <code>./mvnw spri=
ng-boot:run</code>. Alternatively, you can build the JAR file with <code>./=
mvnw clean package</code> and then run the JAR file, as follows:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock has-copy-button">
<div class=3D"content">
<pre>java -jar target/gs-batch-processing-0.1.0.jar</pre>
</div>
</div>
</div>
</div>
<div class=3D"admonitionblock note">
<table>
<tbody>
<tr>
<td class=3D"icon"> <i class=3D"fa icon-note" title=3D"Note"></i> </td>
<td class=3D"content"> The steps described here create a runnable JAR. You =
can also <a href=3D"https://spring.io/guides/gs/convert-jar-to-war/">build =
a classic WAR file</a>. </td>
</tr>
</tbody>
</table>
</div>
<div class=3D"paragraph">
<p>The job prints out a line for each person that gets transformed. After t=
he job runs, you can also see the output from querying the database. It sho=
uld resemble the following output:</p>
</div>
<div class=3D"exampleblock">
<div class=3D"content">
<div class=3D"listingblock">
<div class=3D"content">
<pre class=3D"prettyprint highlight prettyprinted" style=3D""><code data-la=
ng=3D"text"><span class=3D"typ">Converting</span><span class=3D"pln"> </spa=
n><span class=3D"pun">(</span><span class=3D"pln">firstName</span><span cla=
ss=3D"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Jill</sp=
an><span class=3D"pun">,</span><span class=3D"pln"> lastName</span><span cl=
ass=3D"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Doe</sp=
an><span class=3D"pun">)</span><span class=3D"pln"> </span><span class=3D"k=
wd">into</span><span class=3D"pln"> </span><span class=3D"pun">(</span><spa=
n class=3D"pln">firstName</span><span class=3D"pun">:</span><span class=3D"=
pln"> JILL</span><span class=3D"pun">,</span><span class=3D"pln"> lastName<=
/span><span class=3D"pun">:</span><span class=3D"pln"> DOE</span><span clas=
s=3D"pun">)</span><span class=3D"pln">
</span><span class=3D"typ">Converting</span><span class=3D"pln"> </span><sp=
an class=3D"pun">(</span><span class=3D"pln">firstName</span><span class=3D=
"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Joe</span><sp=
an class=3D"pun">,</span><span class=3D"pln"> lastName</span><span class=3D=
"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Doe</span><sp=
an class=3D"pun">)</span><span class=3D"pln"> </span><span class=3D"kwd">in=
to</span><span class=3D"pln"> </span><span class=3D"pun">(</span><span clas=
s=3D"pln">firstName</span><span class=3D"pun">:</span><span class=3D"pln"> =
JOE</span><span class=3D"pun">,</span><span class=3D"pln"> lastName</span><=
span class=3D"pun">:</span><span class=3D"pln"> DOE</span><span class=3D"pu=
n">)</span><span class=3D"pln">
</span><span class=3D"typ">Converting</span><span class=3D"pln"> </span><sp=
an class=3D"pun">(</span><span class=3D"pln">firstName</span><span class=3D=
"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Justin</span>=
<span class=3D"pun">,</span><span class=3D"pln"> lastName</span><span class=
=3D"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Doe</span>=
<span class=3D"pun">)</span><span class=3D"pln"> </span><span class=3D"kwd"=
>into</span><span class=3D"pln"> </span><span class=3D"pun">(</span><span c=
lass=3D"pln">firstName</span><span class=3D"pun">:</span><span class=3D"pln=
"> JUSTIN</span><span class=3D"pun">,</span><span class=3D"pln"> lastName</=
span><span class=3D"pun">:</span><span class=3D"pln"> DOE</span><span class=
=3D"pun">)</span><span class=3D"pln">
</span><span class=3D"typ">Converting</span><span class=3D"pln"> </span><sp=
an class=3D"pun">(</span><span class=3D"pln">firstName</span><span class=3D=
"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Jane</span><s=
pan class=3D"pun">,</span><span class=3D"pln"> lastName</span><span class=
=3D"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Doe</span>=
<span class=3D"pun">)</span><span class=3D"pln"> </span><span class=3D"kwd"=
>into</span><span class=3D"pln"> </span><span class=3D"pun">(</span><span c=
lass=3D"pln">firstName</span><span class=3D"pun">:</span><span class=3D"pln=
"> JANE</span><span class=3D"pun">,</span><span class=3D"pln"> lastName</sp=
an><span class=3D"pun">:</span><span class=3D"pln"> DOE</span><span class=
=3D"pun">)</span><span class=3D"pln">
</span><span class=3D"typ">Converting</span><span class=3D"pln"> </span><sp=
an class=3D"pun">(</span><span class=3D"pln">firstName</span><span class=3D=
"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">John</span><s=
pan class=3D"pun">,</span><span class=3D"pln"> lastName</span><span class=
=3D"pun">:</span><span class=3D"pln"> </span><span class=3D"typ">Doe</span>=
<span class=3D"pun">)</span><span class=3D"pln"> </span><span class=3D"kwd"=
>into</span><span class=3D"pln"> </span><span class=3D"pun">(</span><span c=
lass=3D"pln">firstName</span><span class=3D"pun">:</span><span class=3D"pln=
"> JOHN</span><span class=3D"pun">,</span><span class=3D"pln"> lastName</sp=
an><span class=3D"pun">:</span><span class=3D"pln"> DOE</span><span class=
=3D"pun">)</span><span class=3D"pln">
</span><span class=3D"typ">Found</span><span class=3D"pln"> </span><span cl=
ass=3D"pun">&lt;</span><span class=3D"pln">firstName</span><span class=3D"p=
un">:</span><span class=3D"pln"> JILL</span><span class=3D"pun">,</span><sp=
an class=3D"pln"> lastName</span><span class=3D"pun">:</span><span class=3D=
"pln"> DOE</span><span class=3D"pun">&gt;</span><span class=3D"pln"> </span=
><span class=3D"kwd">in</span><span class=3D"pln"> the database</span><span=
 class=3D"pun">.</span><span class=3D"pln">
</span><span class=3D"typ">Found</span><span class=3D"pln"> </span><span cl=
ass=3D"pun">&lt;</span><span class=3D"pln">firstName</span><span class=3D"p=
un">:</span><span class=3D"pln"> JOE</span><span class=3D"pun">,</span><spa=
n class=3D"pln"> lastName</span><span class=3D"pun">:</span><span class=3D"=
pln"> DOE</span><span class=3D"pun">&gt;</span><span class=3D"pln"> </span>=
<span class=3D"kwd">in</span><span class=3D"pln"> the database</span><span =
class=3D"pun">.</span><span class=3D"pln">
</span><span class=3D"typ">Found</span><span class=3D"pln"> </span><span cl=
ass=3D"pun">&lt;</span><span class=3D"pln">firstName</span><span class=3D"p=
un">:</span><span class=3D"pln"> JUSTIN</span><span class=3D"pun">,</span><=
span class=3D"pln"> lastName</span><span class=3D"pun">:</span><span class=
=3D"pln"> DOE</span><span class=3D"pun">&gt;</span><span class=3D"pln"> </s=
pan><span class=3D"kwd">in</span><span class=3D"pln"> the database</span><s=
pan class=3D"pun">.</span><span class=3D"pln">
</span><span class=3D"typ">Found</span><span class=3D"pln"> </span><span cl=
ass=3D"pun">&lt;</span><span class=3D"pln">firstName</span><span class=3D"p=
un">:</span><span class=3D"pln"> JANE</span><span class=3D"pun">,</span><sp=
an class=3D"pln"> lastName</span><span class=3D"pun">:</span><span class=3D=
"pln"> DOE</span><span class=3D"pun">&gt;</span><span class=3D"pln"> </span=
><span class=3D"kwd">in</span><span class=3D"pln"> the database</span><span=
 class=3D"pun">.</span><span class=3D"pln">
</span><span class=3D"typ">Found</span><span class=3D"pln"> </span><span cl=
ass=3D"pun">&lt;</span><span class=3D"pln">firstName</span><span class=3D"p=
un">:</span><span class=3D"pln"> JOHN</span><span class=3D"pun">,</span><sp=
an class=3D"pln"> lastName</span><span class=3D"pun">:</span><span class=3D=
"pln"> DOE</span><span class=3D"pun">&gt;</span><span class=3D"pln"> </span=
><span class=3D"kwd">in</span><span class=3D"pln"> the database</span><span=
 class=3D"pun">.</span></code><button class=3D"copy-button button button-sm=
all animate" data-clipboard-text=3D"Converting (firstName: Jill, lastName: =
Doe) into (firstName: JILL, lastName: DOE)
Converting (firstName: Joe, lastName: Doe) into (firstName: JOE, lastName: =
DOE)
Converting (firstName: Justin, lastName: Doe) into (firstName: JUSTIN, last=
Name: DOE)
Converting (firstName: Jane, lastName: Doe) into (firstName: JANE, lastName=
: DOE)
Converting (firstName: John, lastName: Doe) into (firstName: JOHN, lastName=
: DOE)
Found <firstName: JILL, lastName: DOE> in the database.
Found <firstName: JOE, lastName: DOE> in the database.
Found <firstName: JUSTIN, lastName: DOE> in the database.
Found <firstName: JANE, lastName: DOE> in the database.
Found <firstName: JOHN, lastName: DOE> in the database.">Copy</button></pre=
>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class=3D"sect1">
<h2 id=3D"_summary">Summary</h2>
<div class=3D"sectionbody">
<div class=3D"paragraph">
<p>Congratulations! You built a batch job that ingested data from a spreads=
heet, processed it, and wrote it to a database.</p>
</div>
</div>
</div>

</div>
</article>
</div>

</div>
</main>
</div>
</div>





</body></html>
------MultipartBoundary--PfKiTYYbzLJpWEOTE3dU98CgG5R4dFPBYqf99fttPa------
